<!DOCTYPE html>
<!-- saved from url=(0088)chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf -->
<html dir="ltr" mozdisallowselectionprint="" moznomarginboxes=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="google" content="notranslate">
    <title>1609.06647.pdf</title>

<!-- This snippet is used in the Chromium extension (included from viewer.html) -->
<!--<base href="/content/web/">--><base href=".">
<link rel="resource" type="application/l10n" href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/content/web/locale/locale.properties">
<script src="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/content/web/l10n.js"></script>
<script src="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/content/build/pdf.js"></script>


    <link rel="stylesheet" href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/content/web/viewer.css">






    <script src="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/content/web/viewer.js"></script>

  </head>

  <body tabindex="1" class="">
    <div id="outerContainer">

      <div id="sidebarContainer">
        <div id="toolbarSidebar">
          <div class="splitToolbarButton toggled">
            <button id="viewThumbnail" class="toolbarButton group toggled" title="Show Thumbnails" tabindex="2" data-l10n-id="thumbs">
               <span data-l10n-id="thumbs_label">Thumbnails</span>
            </button>
            <button id="viewOutline" class="toolbarButton group" title="Show Document Outline (double-click to expand/collapse all items)" tabindex="3" data-l10n-id="document_outline" disabled="">
               <span data-l10n-id="document_outline_label">Document Outline</span>
            </button>
            <button id="viewAttachments" class="toolbarButton group" title="Show Attachments" tabindex="4" data-l10n-id="attachments" disabled="">
               <span data-l10n-id="attachments_label">Attachments</span>
            </button>
          </div>
        </div>
        <div id="sidebarContent">
          <div id="thumbnailView"><a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=1" title="Page 1"><div id="thumbnailContainer1" class="thumbnail selected"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=2" title="Page 2"><div id="thumbnailContainer2" class="thumbnail"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=3" title="Page 3"><div id="thumbnailContainer3" class="thumbnail"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=4" title="Page 4"><div id="thumbnailContainer4" class="thumbnail"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=5" title="Page 5"><div id="thumbnailContainer5" class="thumbnail"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=6" title="Page 6"><div id="thumbnailContainer6" class="thumbnail"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=7" title="Page 7"><div id="thumbnailContainer7" class="thumbnail"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=8" title="Page 8"><div id="thumbnailContainer8" class="thumbnail"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=9" title="Page 9"><div id="thumbnailContainer9" class="thumbnail"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=10" title="Page 10"><div id="thumbnailContainer10" class="thumbnail"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=11" title="Page 11"><div id="thumbnailContainer11" class="thumbnail"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a><a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=12" title="Page 12"><div id="thumbnailContainer12" class="thumbnail"><div class="thumbnailSelectionRing" style="width: 100px; height: 128px;"></div></div></a></div>
          <div id="outlineView" class="hidden">
          </div>
          <div id="attachmentsView" class="hidden">
          </div>
        </div>
      </div>  <!-- sidebarContainer -->

      <div id="mainContainer">
        <div class="findbar hidden doorHanger hiddenSmallView" id="findbar">
          <label for="findInput" class="toolbarLabel" data-l10n-id="find_label">Find:</label>
          <input id="findInput" class="toolbarField" tabindex="91">
          <div class="splitToolbarButton">
            <button class="toolbarButton findPrevious" title="Find the previous occurrence of the phrase" id="findPrevious" tabindex="92" data-l10n-id="find_previous">
              <span data-l10n-id="find_previous_label">Previous</span>
            </button>
            <div class="splitToolbarButtonSeparator"></div>
            <button class="toolbarButton findNext" title="Find the next occurrence of the phrase" id="findNext" tabindex="93" data-l10n-id="find_next">
              <span data-l10n-id="find_next_label">Next</span>
            </button>
          </div>
          <input type="checkbox" id="findHighlightAll" class="toolbarField" tabindex="94">
          <label for="findHighlightAll" class="toolbarLabel" data-l10n-id="find_highlight">Highlight all</label>
          <input type="checkbox" id="findMatchCase" class="toolbarField" tabindex="95">
          <label for="findMatchCase" class="toolbarLabel" data-l10n-id="find_match_case_label">Match case</label>
          <span id="findResultsCount" class="toolbarLabel hidden"></span>
          <span id="findMsg" class="toolbarLabel"></span>
        </div>  <!-- findbar -->

        <div id="secondaryToolbar" class="secondaryToolbar hidden doorHangerRight">
          <div id="secondaryToolbarButtonContainer">
            <button id="secondaryPresentationMode" class="secondaryToolbarButton presentationMode visibleLargeView" title="Switch to Presentation Mode" tabindex="51" data-l10n-id="presentation_mode">
              <span data-l10n-id="presentation_mode_label">Presentation Mode</span>
            </button>

            <button id="secondaryOpenFile" class="secondaryToolbarButton openFile visibleLargeView" title="Open File" tabindex="52" data-l10n-id="open_file" hidden="true">
              <span data-l10n-id="open_file_label">Open</span>
            </button>

            <button id="secondaryPrint" class="secondaryToolbarButton print visibleMediumView" title="Print" tabindex="53" data-l10n-id="print">
              <span data-l10n-id="print_label">Print</span>
            </button>

            <button id="secondaryDownload" class="secondaryToolbarButton download visibleMediumView" title="Download" tabindex="54" data-l10n-id="download">
              <span data-l10n-id="download_label">Download</span>
            </button>

            <a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=1&amp;zoom=auto,-17,801" id="secondaryViewBookmark" class="secondaryToolbarButton bookmark visibleSmallView" title="Current view (copy or open in new window)" tabindex="55" data-l10n-id="bookmark">
              <span data-l10n-id="bookmark_label">Current View</span>
            </a>

            <div class="horizontalToolbarSeparator visibleLargeView"></div>

            <button id="firstPage" class="secondaryToolbarButton firstPage" title="Go to First Page" tabindex="56" data-l10n-id="first_page" disabled="">
              <span data-l10n-id="first_page_label">Go to First Page</span>
            </button>
            <button id="lastPage" class="secondaryToolbarButton lastPage" title="Go to Last Page" tabindex="57" data-l10n-id="last_page">
              <span data-l10n-id="last_page_label">Go to Last Page</span>
            </button>

            <div class="horizontalToolbarSeparator"></div>

            <button id="pageRotateCw" class="secondaryToolbarButton rotateCw" title="Rotate Clockwise" tabindex="58" data-l10n-id="page_rotate_cw">
              <span data-l10n-id="page_rotate_cw_label">Rotate Clockwise</span>
            </button>
            <button id="pageRotateCcw" class="secondaryToolbarButton rotateCcw" title="Rotate Counterclockwise" tabindex="59" data-l10n-id="page_rotate_ccw">
              <span data-l10n-id="page_rotate_ccw_label">Rotate Counterclockwise</span>
            </button>

            <div class="horizontalToolbarSeparator"></div>

            <button id="toggleHandTool" class="secondaryToolbarButton handTool" title="Enable hand tool" tabindex="60" data-l10n-id="hand_tool_enable">
              <span data-l10n-id="hand_tool_enable_label">Enable hand tool</span>
            </button>

            <div class="horizontalToolbarSeparator"></div>

            <button id="documentProperties" class="secondaryToolbarButton documentProperties" title="Document Properties…" tabindex="61" data-l10n-id="document_properties">
              <span data-l10n-id="document_properties_label">Document Properties…</span>
            </button>
          </div>
        </div>  <!-- secondaryToolbar -->

        <div class="toolbar">
          <div id="toolbarContainer">
            <div id="toolbarViewer">
              <div id="toolbarViewerLeft">
                <button id="sidebarToggle" class="toolbarButton" title="Toggle Sidebar" tabindex="11" data-l10n-id="toggle_sidebar">
                  <span data-l10n-id="toggle_sidebar_label">Toggle Sidebar</span>
                </button>
                <div class="toolbarButtonSpacer"></div>
                <button id="viewFind" class="toolbarButton group hiddenSmallView" title="Find in Document" tabindex="12" data-l10n-id="findbar">
                   <span data-l10n-id="findbar_label">Find</span>
                </button>
                <div class="splitToolbarButton">
                  <button class="toolbarButton pageUp" title="Previous Page" id="previous" tabindex="13" data-l10n-id="previous" disabled="">
                    <span data-l10n-id="previous_label">Previous</span>
                  </button>
                  <div class="splitToolbarButtonSeparator"></div>
                  <button class="toolbarButton pageDown" title="Next Page" id="next" tabindex="14" data-l10n-id="next">
                    <span data-l10n-id="next_label">Next</span>
                  </button>
                </div>
                <input type="number" id="pageNumber" class="toolbarField pageNumber" title="Page" value="1" size="4" min="1" tabindex="15" data-l10n-id="page" max="12">
                <span id="numPages" class="toolbarLabel">of 12</span>
              </div>
              <div id="toolbarViewerRight">
                <button id="presentationMode" class="toolbarButton presentationMode hiddenLargeView" title="Switch to Presentation Mode" tabindex="31" data-l10n-id="presentation_mode">
                  <span data-l10n-id="presentation_mode_label">Presentation Mode</span>
                </button>

                <button id="openFile" class="toolbarButton openFile hiddenLargeView" title="Open File" tabindex="32" data-l10n-id="open_file" hidden="true">
                  <span data-l10n-id="open_file_label">Open</span>
                </button>

                <button id="print" class="toolbarButton print hiddenMediumView" title="Print" tabindex="33" data-l10n-id="print">
                  <span data-l10n-id="print_label">Print</span>
                </button>

                <button id="download" class="toolbarButton download hiddenMediumView" title="Download" tabindex="34" data-l10n-id="download">
                  <span data-l10n-id="download_label">Download</span>
                </button>
                <a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://arxiv.org/pdf/1609.06647.pdf#page=1&amp;zoom=auto,-17,801" id="viewBookmark" class="toolbarButton bookmark hiddenSmallView" title="Current view (copy or open in new window)" tabindex="35" data-l10n-id="bookmark">
                  <span data-l10n-id="bookmark_label">Current View</span>
                </a>

                <div class="verticalToolbarSeparator hiddenSmallView"></div>

                <button id="secondaryToolbarToggle" class="toolbarButton" title="Tools" tabindex="36" data-l10n-id="tools">
                  <span data-l10n-id="tools_label">Tools</span>
                </button>
              </div>
              <div class="outerCenter">
                <div class="innerCenter" id="toolbarViewerMiddle">
                  <div class="splitToolbarButton">
                    <button id="zoomOut" class="toolbarButton zoomOut" title="Zoom Out" tabindex="21" data-l10n-id="zoom_out">
                      <span data-l10n-id="zoom_out_label">Zoom Out</span>
                    </button>
                    <div class="splitToolbarButtonSeparator"></div>
                    <button id="zoomIn" class="toolbarButton zoomIn" title="Zoom In" tabindex="22" data-l10n-id="zoom_in">
                      <span data-l10n-id="zoom_in_label">Zoom In</span>
                     </button>
                  </div>
                  <span id="scaleSelectContainer" class="dropdownToolbarButton" style="min-width: 118px; max-width: 118px;">
                    <select id="scaleSelect" title="Zoom" tabindex="23" data-l10n-id="zoom" style="min-width: 140px;">
                      <option id="pageAutoOption" title="" value="auto" selected="selected" data-l10n-id="page_scale_auto">Automatic Zoom</option>
                      <option id="pageActualOption" title="" value="page-actual" data-l10n-id="page_scale_actual">Actual Size</option>
                      <option id="pageFitOption" title="" value="page-fit" data-l10n-id="page_scale_fit">Page Fit</option>
                      <option id="pageWidthOption" title="" value="page-width" data-l10n-id="page_scale_width">Page Width</option>
                      <option id="customScaleOption" title="" value="custom" hidden="true"></option>
                      <option title="" value="0.5" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 50 }">50%</option>
                      <option title="" value="0.75" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 75 }">75%</option>
                      <option title="" value="1" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 100 }">100%</option>
                      <option title="" value="1.25" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 125 }">125%</option>
                      <option title="" value="1.5" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 150 }">150%</option>
                      <option title="" value="2" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 200 }">200%</option>
                      <option title="" value="3" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 300 }">300%</option>
                      <option title="" value="4" data-l10n-id="page_scale_percent" data-l10n-args="{ &quot;scale&quot;: 400 }">400%</option>
                    </select>
                  </span>
                </div>
              </div>
            </div>
            <div id="loadingBar" style="width: calc(100% - 17px);" class="hidden">
              <div class="progress" style="height: 100%; width: 100%;">
                <div class="glimmer">
                </div>
              </div>
            </div>
          </div>
        </div>

        <menu type="context" id="viewerContextMenu">
          <menuitem id="contextFirstPage" label="First Page" data-l10n-id="first_page" title="Go to First Page"></menuitem>
          <menuitem id="contextLastPage" label="Last Page" data-l10n-id="last_page" title="Go to Last Page"></menuitem>
          <menuitem id="contextPageRotateCw" label="Rotate Clockwise" data-l10n-id="page_rotate_cw" title="Rotate Clockwise"></menuitem>
          <menuitem id="contextPageRotateCcw" label="Rotate Counter-Clockwise" data-l10n-id="page_rotate_ccw" title="Rotate Counterclockwise"></menuitem>
        </menu>

        <div id="viewerContainer" tabindex="0">
          <div id="viewer" class="pdfViewer"><div id="pageContainer1" class="page" data-page-number="1" style="width: 710px; height: 918px;" data-loaded="true"><div class="canvasWrapper" style="width: 710px; height: 918px;"><canvas id="page1" width="890" height="1150" style="width: 712px; height: 920px;"></canvas></div><div class="textLayer" style="width: 710px; height: 918px;"><div style="left: 55.6863px; top: 33.1554px; font-size: 8.12092px; font-family: sans-serif; transform: scaleX(1.02146);">IEEE TRANSACTION ON PATTERN ANALYSIS AND MACHINE INTELLIGENCE, VOL.XX, NO. XX, MONTH 2016</div><div style="left: 649.7961764705885px; top: 33.155375816993384px; font-size: 8.12091503267974px; font-family: sans-serif;">1</div><div style="left: 68.6786px; top: 66.3142px; font-size: 27.8431px; font-family: sans-serif; transform: scaleX(1.00005);">Show and Tell: Lessons learned from the 2015</div><div style="left: 112.837px; top: 98.7979px; font-size: 27.8431px; font-family: sans-serif; transform: scaleX(0.999972);">MSCOCO Image Captioning Challenge</div><div style="left: 167.773px; top: 142.913px; font-size: 12.7614px; font-family: sans-serif; transform: scaleX(0.984361);">Oriol Vinyals, Alexander Toshev, Samy Bengio, and Dumitru Erhan</div><div style="left: 79.0339px; top: 179.57px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(1.07554);">Abstract</div><div style="left: 116.677px; top: 179.662px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.983755);">—Automatically describing the content of an image is a fundamental problem in artificial intelligence that connects computer</div><div style="left: 79.0339px; top: 191.67px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.987557);">vision and natural language processing. In this paper, we present a generative model based on a deep recurrent architecture that</div><div style="left: 79.0339px; top: 203.677px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.985594);">combines recent advances in computer vision and machine translation and that can be used to generate natural sentences describing</div><div style="left: 79.0339px; top: 215.685px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.982088);">an image. The model is trained to maximize the likelihood of the target description sentence given the training image. Experiments on</div><div style="left: 79.0339px; top: 227.692px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.976875);">several datasets show the accuracy of the model and the fluency of the language it learns solely from image descriptions. Our model is</div><div style="left: 79.0339px; top: 239.699px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.969438);">often quite accurate, which we verify both qualitatively and quantitatively. Finally, given the recent surge of interest in this task, a</div><div style="left: 79.0339px; top: 251.707px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.982862);">competition was organized in 2015 using the newly released COCO dataset. We describe and analyze the various improvements we</div><div style="left: 79.0339px; top: 263.714px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.982559);">applied to our own baseline and show the resulting performance in the competition, which we won</div><div style="left: 481.458px; top: 263.714px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(1.0109);">ex-aequo</div><div style="left: 522.391px; top: 263.714px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.960876);">with a team from Microsoft</div><div style="left: 79.0339px; top: 275.721px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.987795);">Research, and provide an open source implementation in TensorFlow.</div><div style="left: 79.0339px; top: 300.143px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(1.03862);">Index Terms</div><div style="left: 133.011px; top: 300.236px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.994049);">—Image captioning, recurrent neural network, sequence-to-sequence, language model.</div><div style="left: 349.9592320261438px; top: 317.67174860784314px; font-size: 12.713756535947713px; font-family: monospace;">F</div><div style="left: 56.0053px; top: 348.253px; font-size: 12.7614px; font-family: sans-serif; transform: scaleX(1.2654);">1  I</div><div style="left: 80.6859px; top: 350.095px; font-size: 10.2092px; font-family: sans-serif; transform: scaleX(1.11685);">NTRODUCTION</div><div style="left: 55.68627450980394px; top: 373.1595592075162px; font-size: 32.08933169934641px; font-family: sans-serif;">B</div><div style="left: 77.2218px; top: 375.073px; font-size: 8.81699px; font-family: sans-serif; transform: scaleX(1.14495);">EING</div><div style="left: 106.088px; top: 373.497px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.975602);">able  to  automatically  describe  the  content  of  an</div><div style="left: 76.9457px; top: 386.884px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00033);">image  using  properly  formed  English  sentences  is  a</div><div style="left: 55.6863px; top: 400.272px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.984342);">very  challenging  task,  but  it  could  have  great  impact,  for</div><div style="left: 55.6863px; top: 413.66px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05541);">instance by helping visually impaired people better under-</div><div style="left: 55.6863px; top: 427.048px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.95539);">stand  the  content  of  images  on  the  web.  This  task  is  sig-</div><div style="left: 55.6863px; top: 440.436px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05774);">nificantly harder, for example, than the well-studied image</div><div style="left: 55.6863px; top: 453.824px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0081);">classification or object recognition tasks, which have been a</div><div style="left: 55.6863px; top: 467.212px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.06309);">main focus in the computer vision community [1]. Indeed,</div><div style="left: 55.6863px; top: 480.6px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01864);">a description must capture not only the objects contained in</div><div style="left: 55.6863px; top: 493.988px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.977757);">an image, but it also must express how these objects relate to</div><div style="left: 55.6863px; top: 507.376px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03304);">each other as well as their attributes and the activities they</div><div style="left: 55.6863px; top: 520.764px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.976477);">are  involved  in.  Moreover,  the  above  semantic  knowledge</div><div style="left: 55.6863px; top: 534.151px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.994386);">has to be expressed in a natural language like English, which</div><div style="left: 55.6863px; top: 547.539px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0222);">means that a language model is needed in addition to visual</div><div style="left: 55.6863px; top: 560.927px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03967);">understanding.</div><div style="left: 72.2181px; top: 574.315px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00663);">Most previous attempts have proposed to stitch together</div><div style="left: 55.6863px; top: 587.703px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.991015);">existing  solutions  of  the  above  sub-problems,  in  order  to</div><div style="left: 55.6863px; top: 601.091px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05541);">go from an image to its description [2], [3]. In contrast, we</div><div style="left: 55.6863px; top: 614.479px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.07481);">would like to present in this work a single joint model that</div><div style="left: 55.6863px; top: 627.867px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.940663);">takes  an  image</div><div style="left: 135.0833006535948px; top: 627.725798163399px; font-size: 11.557918300653595px; font-family: sans-serif;">I</div><div style="left: 145.216px; top: 627.867px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.970449);">as  input,  and  is  trained  to  maximize  the</div><div style="left: 55.6863px; top: 641.255px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.12316);">likelihood</div><div style="left: 109.08129084967322px; top: 641.113706660131px; font-size: 11.557918300653595px; font-family: sans-serif;">p</div><div style="left: 114.89586601307191px; top: 641.113706660131px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 119.39021241830066px; top: 641.113706660131px; font-size: 11.557918300653595px; font-family: sans-serif;">S</div><div style="left: 127.14452614379086px; top: 640.4664632352944px; font-size: 11.557918300653595px; font-family: sans-serif;">|</div><div style="left: 130.35460784313727px; top: 641.113706660131px; font-size: 11.557918300653595px; font-family: sans-serif;">I</div><div style="left: 136.34204248366015px; top: 641.113706660131px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 144.813px; top: 641.255px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0369);">of producing a target sequence of words</div><div style="left: 55.68627450980391px; top: 654.5016151568631px; font-size: 11.557918300653595px; font-family: sans-serif;">S</div><div style="left: 67.76323529411764px; top: 654.5016151568631px; font-size: 11.557918300653595px; font-family: sans-serif;">=</div><div style="left: 81.0768954248366px; top: 653.8543717320265px; font-size: 11.557918300653595px; font-family: sans-serif;">{</div><div style="left: 86.8555065359477px; top: 654.5016151568631px; font-size: 11.557918300653595px; font-family: sans-serif;">S</div><div style="left: 93.94274509803918px; top: 658.6412251437911px; font-size: 8.090519607843138px; font-family: sans-serif;">1</div><div style="left: 99.1285px; top: 654.502px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(1.11166);">,S</div><div style="left: 111.35166666666665px; top: 658.6412251437911px; font-size: 8.090519607843138px; font-family: sans-serif;">2</div><div style="left: 116.537px; top: 654.502px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(1.55184);">,...</div><div style="left: 135.15870915032679px; top: 653.8543717320265px; font-size: 11.557918300653595px; font-family: sans-serif;">}</div><div style="left: 144.75px; top: 654.643px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0255);">where each word</div><div style="left: 234.70024509803918px; top: 654.5016151568631px; font-size: 11.557918300653595px; font-family: sans-serif;">S</div><div style="left: 241.7874836601307px; top: 658.6412251437911px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 249.668px; top: 654.643px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02475);">comes from a given</div><div style="left: 55.6863px; top: 668.031px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01172);">dictionary, that describes the image adequately.</div><div style="left: 72.2181px; top: 681.418px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00663);">The  main  inspiration  of  our  work  comes  from  recent</div><div style="left: 55.6863px; top: 694.806px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01159);">advances in machine translation, where the task is to trans-</div><div style="left: 55.6863px; top: 708.194px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.960793);">form  a  sentence</div><div style="left: 142.62879084967318px; top: 708.053249143791px; font-size: 11.557918300653595px; font-family: sans-serif;">S</div><div style="left: 155.661px; top: 708.194px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0072);">written  in  a  source  language,  into  its</div><div style="left: 55.6863px; top: 721.582px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04988);">translation</div><div style="left: 111.0941176470588px; top: 721.4411576405231px; font-size: 11.557918300653595px; font-family: sans-serif;">T</div><div style="left: 122.368px; top: 721.582px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0384);">in the target language, by maximizing</div><div style="left: 311.15633986928106px; top: 721.4411576405231px; font-size: 11.557918300653595px; font-family: sans-serif;">p</div><div style="left: 316.9709150326797px; top: 721.4411576405231px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 321.4652614379085px; top: 721.4411576405231px; font-size: 11.557918300653595px; font-family: sans-serif;">T</div><div style="left: 329.82516339869284px; top: 720.7939142156865px; font-size: 11.557918300653595px; font-family: sans-serif;">|</div><div style="left: 333.03524509803924px; top: 721.4411576405231px; font-size: 11.557918300653595px; font-family: sans-serif;">S</div><div style="left: 340.7895588235295px; top: 721.4411576405231px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 345.2839052287583px; top: 721.58216503268px; font-size: 11.02124183006536px; font-family: sans-serif;">.</div><div style="left: 55.6863px; top: 734.97px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0222);">For many years, machine translation was also achieved by</div><div style="left: 55.6863px; top: 748.358px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.990404);">a  series  of  separate  tasks  (translating  words  individually,</div><div style="left: 55.6863px; top: 761.746px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0151);">aligning words, reordering, etc), but recent work has shown</div><div style="left: 55.6863px; top: 775.134px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.06697);">that translation can be done in a much simpler way using</div><div style="left: 55.6863px; top: 788.522px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01159);">Recurrent  Neural  Networks  (RNNs)  [4],  [5],  [6]  and  still</div><div style="left: 55.6863px; top: 801.91px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00322);">reach state-of-the-art performance. An “encoder” RNN</div><div style="left: 324.972px; top: 801.832px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.823838);">reads</div><div style="left: 55.6863px; top: 815.298px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.994386);">the source sentence and transforms it into a rich fixed-length</div><div style="left: 55.6863px; top: 828.685px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.991015);">vector  representation,  which  in  turn  in  used  as  the  initial</div><div style="left: 55.6863px; top: 842.073px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.986261);">hidden  state  of  a  “decoder”  RNN  that</div><div style="left: 254.274px; top: 841.996px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.84976);">generates</div><div style="left: 300.204px; top: 842.073px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.976167);">the  target</div><div style="left: 55.6863px; top: 855.461px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.928769);">sentence.</div><div style="left: 572.255px; top: 392.498px; font-size: 9.75554px; font-family: sans-serif; transform: scaleX(1.10173);">A group of people </div><div style="left: 572.255px; top: 403.554px; font-size: 9.75554px; font-family: sans-serif; transform: scaleX(1.1257);">shopping at an </div><div style="left: 572.255px; top: 414.611px; font-size: 9.75554px; font-family: sans-serif; transform: scaleX(1.13567);">outdoor market</div><div style="left: 643.802px; top: 414.611px; font-size: 9.75554px; font-family: sans-serif; transform: scaleX(0.903363);">. </div><div style="left: 572.2547321596406px; top: 428.1894178875199px; font-size: 8.193053032745098px; font-family: monospace;">!</div><div style="left: 572.255px; top: 436.723px; font-size: 9.75554px; font-family: sans-serif; transform: scaleX(1.084);">There are many </div><div style="left: 572.255px; top: 447.779px; font-size: 9.75554px; font-family: sans-serif; transform: scaleX(1.09177);">vegetables at the </div><div style="left: 572.255px; top: 458.836px; font-size: 9.75554px; font-family: sans-serif; transform: scaleX(1.13543);">fruit stand</div><div style="left: 619.9463765756536px; top: 458.83563155618367px; font-size: 9.755539215686275px; font-family: sans-serif;">.</div><div style="left: 488.297px; top: 399.253px; font-size: 7.80443px; font-family: sans-serif; transform: scaleX(0.927518);">Vision</div><div style="left: 507.6445763772876px; top: 399.25271751789217px; font-size: 7.80443137254902px; font-family: monospace;">!</div><div style="left: 479.415px; top: 408.358px; font-size: 7.80443px; font-family: sans-serif; transform: scaleX(0.976493);">Deep CNN</div><div style="left: 529.421px; top: 396.976px; font-size: 7.80443px; font-family: sans-serif; transform: scaleX(0.907348);">Language </div><div style="left: 560.2814662140523px; top: 396.97642503423197px; font-size: 7.80443137254902px; font-family: monospace;">!</div><div style="left: 526.207px; top: 406.082px; font-size: 7.80443px; font-family: sans-serif; transform: scaleX(0.949338);">Generating</div><div style="left: 561.3267397225491px; top: 406.08159496887254px; font-size: 7.80443137254902px; font-family: monospace;">!</div><div style="left: 535.316px; top: 415.187px; font-size: 7.80443px; font-family: sans-serif; transform: scaleX(0.938824);">RNN</div><div style="left: 361.961px; top: 513.912px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.964861);">Fig. 1. NIC, our model, is based end-to-end on a neural network consist-</div><div style="left: 361.961px; top: 524.354px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.955402);">ing of a vision CNN followed by a language generating RNN. It generates</div><div style="left: 361.961px; top: 534.795px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.984353);">complete sentences in natural language from an input image, as shown</div><div style="left: 361.961px; top: 545.236px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.980078);">on the example above.</div><div style="left: 378.493px; top: 585.568px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02155);">Here, we propose to follow this elegant recipe, replacing</div><div style="left: 361.961px; top: 598.956px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.99778);">the  encoder  RNN  by  a  deep  convolution  neural  network</div><div style="left: 361.961px; top: 612.344px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.981038);">(CNN).  Over  the  last  few  years  it  has  been  convincingly</div><div style="left: 361.961px; top: 625.732px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03304);">shown that CNNs can produce a rich representation of the</div><div style="left: 361.961px; top: 639.12px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05392);">input image by embedding it to a fixed-length vector, such</div><div style="left: 361.961px; top: 652.508px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05162);">that this representation can be used for a variety of vision</div><div style="left: 361.961px; top: 665.896px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.958523);">tasks  [7].  Hence,  it  is  natural  to  use  a  CNN  as  an  image</div><div style="left: 361.961px; top: 679.284px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04039);">“encoder”, by first pre-training it for an image classification</div><div style="left: 361.961px; top: 692.672px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0294);">task and using the last hidden layer as an input to the RNN</div><div style="left: 361.961px; top: 706.06px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.93164);">decoder  that  generates  sentences  (see  Fig.  1).  We  call  this</div><div style="left: 361.961px; top: 719.448px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04612);">model the Neural Image Caption, or NIC.</div><div style="left: 378.493px; top: 734.97px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.981557);">Our  contributions  are  as  follows.  First,  we  present  an</div><div style="left: 361.961px; top: 748.358px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0367);">end-to-end system for the problem. It is a neural net which</div><div style="left: 361.961px; top: 761.746px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0222);">is fully trainable using stochastic gradient descent. Second,</div><div style="left: 361.961px; top: 775.134px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0081);">our  model  combines  state-of-art  sub-networks  for  vision</div><div style="left: 361.961px; top: 788.522px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.968045);">and  language  models.  These  can  be  pre-trained  on  larger</div><div style="left: 361.961px; top: 801.91px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.99778);">corpora  and  thus  can  take  advantage  of  additional  data.</div><div style="left: 361.961px; top: 815.298px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04716);">Finally, it yields significantly better performance compared</div><div style="left: 361.961px; top: 828.685px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.968045);">to  state-of-the-art  approaches;  for  instance,  on  the  Pascal</div><div style="left: 361.961px; top: 842.073px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0081);">dataset, NIC yielded a BLEU score of 59, to be compared to</div><div style="left: 361.961px; top: 855.461px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01864);">the current state-of-the-art of 25, while human performance</div><div style="left: 42.6429px; top: 879.724px; font-size: 8.12092px; font-family: sans-serif; transform: scaleX(0.965867);">Copyright (c) 2016 IEEE. Personal use is permitted. For any other purposes, permission must be obtained from the IEEE. DOI: http://dx.doi.org/10.1109/TPAMI.2016.2587640</div><div style="left: 13.9216px; top: 649.673px; font-size: 23.2026px; font-family: serif; transform: rotate(-90deg) scaleX(1.00012);">arXiv:1609.06647v1  [cs.CV]  21 Sep 2016</div><div class="endOfContent"></div></div></div><div id="pageContainer2" class="page" data-page-number="2" style="width: 710px; height: 918px;" data-loaded="true"><div class="canvasWrapper" style="width: 710px; height: 918px;"><canvas id="page2" width="890" height="1150" style="width: 712px; height: 920px;"></canvas></div><div class="textLayer" style="width: 710px; height: 918px;"><div style="left: 55.6863px; top: 33.1554px; font-size: 8.12092px; font-family: sans-serif; transform: scaleX(1.02146);">IEEE TRANSACTION ON PATTERN ANALYSIS AND MACHINE INTELLIGENCE, VOL.XX, NO. XX, MONTH 2016</div><div style="left: 649.7961764705885px; top: 33.155375816993384px; font-size: 8.12091503267974px; font-family: sans-serif;">2</div><div style="left: 55.6863px; top: 52.1867px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0012);">reaches 69. On Flickr30k, we improve from 56 to 66, and on</div><div style="left: 55.6863px; top: 65.5746px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0222);">SBU, from 19 to 28. Third, we describe the lessons learned</div><div style="left: 55.6863px; top: 78.9626px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05162);">from participating in the first MSCOCO competition, which</div><div style="left: 55.6863px; top: 92.3505px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0081);">helped  us  to  improve  our  initial  model  and  place  first  in</div><div style="left: 55.6863px; top: 105.738px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03304);">automatic  metrics,  and  first  (tied  with  another  team)  in</div><div style="left: 55.6863px; top: 119.126px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04739);">human evaluation.</div><div style="left: 56.0053px; top: 160.445px; font-size: 12.7614px; font-family: sans-serif; transform: scaleX(1.23786);">2  R</div><div style="left: 86.352px; top: 162.288px; font-size: 10.2092px; font-family: sans-serif; transform: scaleX(1.09732);">ELATED</div><div style="left: 133.59369281045753px; top: 160.44491830065328px; font-size: 12.761437908496733px; font-family: sans-serif;">W</div><div style="left: 146.049px; top: 162.288px; font-size: 10.2092px; font-family: sans-serif; transform: scaleX(1.08867);">ORK</div><div style="left: 55.6863px; top: 183.639px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0081);">The  problem  of  generating  natural  language  descriptions</div><div style="left: 55.6863px; top: 197.027px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04411);">from visual data has long been studied in computer vision,</div><div style="left: 55.6863px; top: 210.415px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.998553);">but  mainly  for  video  [8],  [9].  Traditionally,  this  has  led  to</div><div style="left: 55.6863px; top: 223.803px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01864);">complex systems composed of visual primitive recognizers</div><div style="left: 55.6863px; top: 237.19px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0367);">combined  with  a  structured  formal  language,  e.g.  And-</div><div style="left: 55.6863px; top: 250.578px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.974498);">Or  Graphs  or  logic  systems,  which  are  further  converted</div><div style="left: 55.6863px; top: 263.966px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.95539);">to  natural  language  via  rule-based  systems.  Such  systems</div><div style="left: 55.6863px; top: 277.354px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04039);">are heavily hand-designed, relatively brittle and have been</div><div style="left: 55.6863px; top: 290.742px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0158);">demonstrated only on limited domains, e.g. traffic scenes or</div><div style="left: 55.6863px; top: 304.13px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.961441);">sports.</div><div style="left: 72.2181px; top: 318.327px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03302);">The  problem  of  still  image  captioning  in  natural  lan-</div><div style="left: 55.6863px; top: 331.714px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.958523);">guage  has  recently  enjoyed  increased  interest.  Recent  ad-</div><div style="left: 55.6863px; top: 345.102px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.984342);">vances  in  object  recognition  and  detection  as  well  as  at-</div><div style="left: 55.6863px; top: 358.49px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03304);">tribute recognition has been used to drive natural language</div><div style="left: 55.6863px; top: 371.878px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.991015);">generation  systems,  though  these  are  limited  in  their  ex-</div><div style="left: 55.6863px; top: 385.266px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05093);">pressivity. Farhadi et al. [2] use detections to infer a triplet</div><div style="left: 55.6863px; top: 398.654px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.984342);">of  scene  elements  which  is  converted  to  text  using  tem-</div><div style="left: 55.6863px; top: 412.042px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.07885);">plates. Similarly, Li et al. [10] start off with detections and</div><div style="left: 55.6863px; top: 425.43px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04411);">piece together a final description using phrases containing</div><div style="left: 55.6863px; top: 438.818px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.968045);">detected  objects  and  relationships.  A  more  complex  graph</div><div style="left: 55.6863px; top: 452.206px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.971261);">of  detections  beyond  triplets  is  used  by  Kulkani  et  al.  [3],</div><div style="left: 55.6863px; top: 465.594px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03304);">but  with  template-based  text  generation.  More  powerful</div><div style="left: 55.6863px; top: 478.981px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.984342);">language models based on language parsing have been used</div><div style="left: 55.6863px; top: 492.369px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.990404);">as  well  [11],  [12],  [13],  [14],  [15].  The  above  approaches</div><div style="left: 55.6863px; top: 505.757px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.968045);">have  been  able  to  describe  images  “in  the  wild”,  but  they</div><div style="left: 55.6863px; top: 519.145px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05162);">are heavily hand-designed and rigid when it comes to text</div><div style="left: 55.6863px; top: 532.533px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01763);">generation.</div><div style="left: 72.2181px; top: 546.73px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00297);">A  large  body  of  work  has  addressed  the  problem  of</div><div style="left: 55.6863px; top: 560.117px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04411);">ranking  descriptions  for  a  given  image  [16],  [17],  [18],</div><div style="left: 55.6863px; top: 573.505px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.96485);">[19],  [20].  Such  approaches  are  based  on  the  idea  of  co-</div><div style="left: 55.6863px; top: 586.893px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.971261);">embedding  of  images  and  text  in  the  same  vector  space.</div><div style="left: 55.6863px; top: 600.281px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00057);">For  an  image  query,  descriptions  are  retrieved  which  lie</div><div style="left: 55.6863px; top: 613.669px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.967461);">close  to  the  image  in  the  embedding  space.  Most  closely,</div><div style="left: 55.6863px; top: 627.057px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.971261);">neural networks are used to co-embed images and sentences</div><div style="left: 55.6863px; top: 640.445px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.987667);">together [21] or even image crops and subsentences [22] but</div><div style="left: 55.6863px; top: 653.833px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.977757);">do  not  attempt  to  generate  novel  descriptions.  In  general,</div><div style="left: 55.6863px; top: 667.221px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.974498);">the  above  approaches  cannot  describe  previously  unseen</div><div style="left: 55.6863px; top: 680.609px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03304);">compositions of objects, even though the individual objects</div><div style="left: 55.6863px; top: 693.997px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.976477);">might  have  been  observed  in  the  training  data.  Moreover,</div><div style="left: 55.6863px; top: 707.384px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04039);">they avoid addressing the problem of evaluating how good</div><div style="left: 55.6863px; top: 720.772px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0367);">a generated description is. More recently neural net based</div><div style="left: 55.6863px; top: 734.16px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.94003);">recognizer  are  used  to  detect  a  larger  set  of  words  and  in</div><div style="left: 55.6863px; top: 747.548px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0081);">conjunction with a language model sentences are generated</div><div style="left: 55.6863px; top: 760.936px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00556);">[23].</div><div style="left: 72.2181px; top: 775.134px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02917);">In this work we combine deep convolutional nets for im-</div><div style="left: 55.6863px; top: 788.522px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01159);">age classification [24] with recurrent networks for sequence</div><div style="left: 55.6863px; top: 801.91px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0012);">modeling  [25],  to  create  a  single  network  that  generates</div><div style="left: 55.6863px; top: 815.298px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.96485);">descriptions  of  images.  The  RNN  is  trained  in  the  context</div><div style="left: 55.6863px; top: 828.685px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.06309);">of this single “end-to-end” network. The model is inspired</div><div style="left: 55.6863px; top: 842.073px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.987667);">by  recent  successes  of  sequence  generation  in  machine</div><div style="left: 55.6863px; top: 855.461px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.998458);">translation  [4],  [5],  [6],  with  the  difference  that  instead  of</div><div style="left: 361.961px; top: 52.1867px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00464);">starting with a sentence, we provide an image processed by</div><div style="left: 361.961px; top: 65.5746px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04406);">a convolutional net.</div><div style="left: 378.493px; top: 79.2839px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.981557);">In  the  summer  of  2015  a  few  approaches  were  intro-</div><div style="left: 361.961px; top: 92.6718px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0012);">duced which follow the above general paradigm. The closest</div><div style="left: 361.961px; top: 106.06px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.937018);">works  are  by  Kiros  et  al.  [26]  who  use  a  neural  net,  but  a</div><div style="left: 361.961px; top: 119.448px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05162);">feedforward one, to predict the next word given the image</div><div style="left: 361.961px; top: 132.836px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04411);">and previous words. A recent work by Mao et al. [27], [28]</div><div style="left: 361.961px; top: 146.223px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.95539);">uses  a  recurrent  NN  for  the  same  prediction  task.  This  is</div><div style="left: 361.961px; top: 159.611px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02579);">very similar to the present proposal but there are a number</div><div style="left: 361.961px; top: 172.999px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01935);">of  important  differences:  we  use  a  more  powerful  RNN</div><div style="left: 361.961px; top: 186.387px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03304);">model,  and  provide  the  visual  input  to  the  RNN  model</div><div style="left: 361.961px; top: 199.775px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03237);">directly, which makes it possible for the RNN to keep track</div><div style="left: 361.961px; top: 213.163px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.961676);">of  the  objects  that  have  been  explained  by  the  text.  As  a</div><div style="left: 361.961px; top: 226.551px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03012);">result of these seemingly insignificant differences, our sys-</div><div style="left: 361.961px; top: 239.939px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0222);">tem achieves substantially better results on the established</div><div style="left: 361.961px; top: 253.327px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02798);">benchmarks. Further, Kiros et al. [29] propose to construct</div><div style="left: 361.961px; top: 266.715px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0012);">a  joint  multimodal  embedding  space  by  using  a  powerful</div><div style="left: 361.961px; top: 280.103px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04785);">computer vision model and an LSTM that encodes text. In</div><div style="left: 361.961px; top: 293.49px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0294);">contrast to our approach, they use two separate pathways</div><div style="left: 361.961px; top: 306.878px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.06309);">(one for images, one for text) to define a joint embedding,</div><div style="left: 361.961px; top: 320.266px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.987667);">and,  even  though  they  can  generate  text,  their  approach</div><div style="left: 361.961px; top: 333.654px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.994386);">is  highly  tuned  for  ranking.  A  recurrent  network  is  being</div><div style="left: 361.961px; top: 347.042px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01864);">used by Donahue et al. [30] who address in addition activity</div><div style="left: 361.961px; top: 360.43px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03987);">recognition and video description.</div><div style="left: 378.493px; top: 374.139px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02155);">In addition, some approaches try to model in a more ex-</div><div style="left: 361.961px; top: 387.527px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01159);">plicit fashion the visual anchoring of sentence parts claiming</div><div style="left: 361.961px; top: 400.915px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01159);">a performance benefit. Xu et al. [31] explore attention mech-</div><div style="left: 361.961px; top: 414.303px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02579);">anisms  over  image  regions  where  while  emitting  words</div><div style="left: 361.961px; top: 427.691px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.961676);">the  system  can  focus  on  image  parts.  An  explicit  word  to</div><div style="left: 361.961px; top: 441.079px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.07878);">region alignment is utilized during training by Karpathy et</div><div style="left: 361.961px; top: 454.467px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02513);">al. [32]. Finally, Chen et al. [33] build a visual representation</div><div style="left: 361.961px; top: 467.855px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0222);">for sentence parts while generating the description. Further</div><div style="left: 361.961px; top: 481.243px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03304);">analysis of the above approaches were reported by Devlin</div><div style="left: 361.961px; top: 494.63px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01349);">et al. [34].</div><div style="left: 362.28px; top: 530.589px; font-size: 12.7614px; font-family: sans-serif; transform: scaleX(1.19712);">3  M</div><div style="left: 394.043px; top: 532.432px; font-size: 10.2092px; font-family: sans-serif; transform: scaleX(1.08035);">ODEL</div><div style="left: 361.961px; top: 550.858px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04265);">In this paper, we propose a neural and probabilistic frame-</div><div style="left: 361.961px; top: 564.246px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.977757);">work to generate descriptions from images. Recent advances</div><div style="left: 361.961px; top: 577.634px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05541);">in statistical machine translation have shown that, given a</div><div style="left: 361.961px; top: 591.022px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0222);">powerful sequence model, it is possible to achieve state-of-</div><div style="left: 361.961px; top: 604.41px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05162);">the-art results by directly maximizing the probability of the</div><div style="left: 361.961px; top: 617.798px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.981038);">correct  translation  given  an  input  sentence  in  an  “end-to-</div><div style="left: 361.961px; top: 631.186px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00464);">end” fashion – both for training and inference. These models</div><div style="left: 361.961px; top: 644.574px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0222);">make use of a recurrent neural network which encodes the</div><div style="left: 361.961px; top: 657.962px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.999855);">variable  length  input  into  a  fixed  dimensional  vector,  and</div><div style="left: 361.961px; top: 671.35px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0222);">uses this representation to “decode” it to the desired output</div><div style="left: 361.961px; top: 684.738px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.974498);">sentence. Thus, it is natural to use the same approach where,</div><div style="left: 361.961px; top: 698.125px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0367);">given an image (instead of an input sentence in the source</div><div style="left: 361.961px; top: 711.513px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04039);">language), one applies the same principle of “translating” it</div><div style="left: 361.961px; top: 724.901px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05143);">into its description.</div><div style="left: 378.493px; top: 738.611px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.99215);">Thus,  we  propose  to  directly  maximize  the  probability</div><div style="left: 361.961px; top: 751.998px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01159);">of  the  correct  description  given  the  image  by  using  the</div><div style="left: 361.961px; top: 765.386px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.1127);">following formulation:</div><div style="left: 432.9805065359477px; top: 793.788069405228px; font-size: 11.557918300653595px; font-family: sans-serif;">θ</div><div style="left: 438.7277941176471px; top: 791.4216663202607px; font-size: 8.090519607843138px; font-family: sans-serif;">?</div><div style="left: 447.251px; top: 793.788px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(1.01723);">= arg max</div><div style="left: 486.0530065359477px; top: 803.7387741633979px; font-size: 8.090519607843138px; font-family: sans-serif;">θ</div><div style="left: 503.11852941176465px; top: 790.3663107189535px; font-size: 11.557918300653595px; font-family: monospace;">X</div><div style="left: 501.0604575163398px; top: 810.5452610915025px; font-size: 8.090519607843138px; font-family: sans-serif;">(</div><div style="left: 504.672px; top: 810.545px; font-size: 8.09052px; font-family: sans-serif; transform: scaleX(1.46088);">I,S</div><div style="left: 518.2605555555556px; top: 810.5452610915025px; font-size: 8.090519607843138px; font-family: sans-serif;">)</div><div style="left: 523.798px; top: 793.788px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(0.984581);">log</div><div style="left: 540.6533986928105px; top: 793.788069405228px; font-size: 11.557918300653595px; font-family: sans-serif;">p</div><div style="left: 546.4691339869281px; top: 793.788069405228px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 550.9634803921568px; top: 793.788069405228px; font-size: 11.557918300653595px; font-family: sans-serif;">S</div><div style="left: 558.7166339869281px; top: 793.1408259803915px; font-size: 11.557918300653595px; font-family: sans-serif;">|</div><div style="left: 561.9278758169934px; top: 793.788069405228px; font-size: 11.557918300653595px; font-family: sans-serif;">I</div><div style="left: 567.9153104575163px; top: 793.788069405228px; font-size: 11.557918300653595px; font-family: sans-serif;">;</div><div style="left: 573.0523692810457px; top: 793.788069405228px; font-size: 11.557918300653595px; font-family: sans-serif;">θ</div><div style="left: 578.798496732026px; top: 793.788069405228px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 641.463px; top: 793.929px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.917912);">(1)</div><div style="left: 361.961px; top: 828.684px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01065);">where</div><div style="left: 395.08483660130713px; top: 828.5432654836594px; font-size: 11.557918300653595px; font-family: sans-serif;">θ</div><div style="left: 403.636px; top: 828.684px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0037);">are the parameters of our model,</div><div style="left: 566.0312581699346px; top: 828.5432654836594px; font-size: 11.557918300653595px; font-family: sans-serif;">I</div><div style="left: 574.824px; top: 828.684px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00614);">is an image, and</div><div style="left: 361.9607843137254px; top: 841.9311739803915px; font-size: 11.557918300653595px; font-family: sans-serif;">S</div><div style="left: 373.244px; top: 842.072px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00993);">its correct transcription. Since</div><div style="left: 523.2119934640523px; top: 841.9311739803915px; font-size: 11.557918300653595px; font-family: sans-serif;">S</div><div style="left: 534.497px; top: 842.072px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.958584);">represents any sentence,</div><div style="left: 361.961px; top: 855.46px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.981038);">its  length  is  unbounded.  Thus,  it  is  common  to  apply  the</div><div class="endOfContent"></div></div></div><div id="pageContainer3" class="page" data-page-number="3" style="width: 710px; height: 918px;" data-loaded="true"><div class="canvasWrapper" style="width: 710px; height: 918px;"><canvas id="page3" width="890" height="1150" style="width: 712px; height: 920px;"></canvas></div><div class="textLayer" style="width: 710px; height: 918px;"><div style="left: 55.6863px; top: 33.1554px; font-size: 8.12092px; font-family: sans-serif; transform: scaleX(1.02146);">IEEE TRANSACTION ON PATTERN ANALYSIS AND MACHINE INTELLIGENCE, VOL.XX, NO. XX, MONTH 2016</div><div style="left: 649.7961764705885px; top: 33.155375816993384px; font-size: 8.12091503267974px; font-family: sans-serif;">3</div><div style="left: 55.6863px; top: 52.1867px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00967);">chain  rule  to  model  the  joint  probability  over</div><div style="left: 291.47356209150325px; top: 52.045732803921545px; font-size: 11.557918300653595px; font-family: sans-serif;">S</div><div style="left: 298.5608006535948px; top: 56.186502921568525px; font-size: 8.090519607843138px; font-family: sans-serif;">0</div><div style="left: 303.747px; top: 52.0457px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(1.42474);">,...,S</div><div style="left: 336.5179575163399px; top: 56.186502921568525px; font-size: 8.090519607843138px; font-family: sans-serif;">N</div><div style="left: 345.2839052287582px; top: 52.18674019607841px; font-size: 11.02124183006536px; font-family: sans-serif;">,</div><div style="left: 55.6863px; top: 65.5746px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01065);">where</div><div style="left: 89.09107843137255px; top: 65.43364130065348px; font-size: 11.557918300653595px; font-family: sans-serif;">N</div><div style="left: 102.724px; top: 65.5746px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02934);">is the length of this particular example as</div><div style="left: 101.493px; top: 99.6111px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(0.984581);">log</div><div style="left: 118.34841503267975px; top: 99.6110922810457px; font-size: 11.557918300653595px; font-family: sans-serif;">p</div><div style="left: 124.16415032679741px; top: 99.6110922810457px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 128.65849673202615px; top: 99.6110922810457px; font-size: 11.557918300653595px; font-family: sans-serif;">S</div><div style="left: 136.4116503267974px; top: 98.96384885620911px; font-size: 11.557918300653595px; font-family: sans-serif;">|</div><div style="left: 139.62289215686275px; top: 99.6110922810457px; font-size: 11.557918300653595px; font-family: sans-serif;">I</div><div style="left: 145.61px; top: 99.6111px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(1.19269);">) =</div><div style="left: 169.7688888888889px; top: 87.57035913071891px; font-size: 8.090519607843138px; font-family: sans-serif;">N</div><div style="left: 165.51584967320264px; top: 96.19049372549021px; font-size: 11.557918300653595px; font-family: monospace;">X</div><div style="left: 166.26529411764707px; top: 115.51442775816989px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 169.757px; top: 115.514px; font-size: 8.09052px; font-family: sans-serif; transform: scaleX(1.30033);">=0</div><div style="left: 184.136px; top: 99.6111px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(0.984581);">log</div><div style="left: 200.9914869281046px; top: 99.6110922810457px; font-size: 11.557918300653595px; font-family: sans-serif;">p</div><div style="left: 206.80722222222224px; top: 99.6110922810457px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 211.301568627451px; top: 99.6110922810457px; font-size: 11.557918300653595px; font-family: sans-serif;">S</div><div style="left: 218.38880718954252px; top: 103.75070226797382px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 222.45854575163403px; top: 98.96384885620911px; font-size: 11.557918300653595px; font-family: sans-serif;">|</div><div style="left: 225.669px; top: 99.6111px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(1.30076);">I,S</div><div style="left: 243.88035947712422px; top: 103.75070226797382px; font-size: 8.090519607843138px; font-family: sans-serif;">0</div><div style="left: 249.066px; top: 99.6111px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(1.42474);">,...,S</div><div style="left: 281.8375163398693px; top: 103.75070226797382px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 285.32834967320264px; top: 103.29763316993461px; font-size: 8.090519607843138px; font-family: sans-serif;">−</div><div style="left: 292.55248366013075px; top: 103.75070226797382px; font-size: 8.090519607843138px; font-family: sans-serif;">1</div><div style="left: 297.7371078431373px; top: 99.6110922810457px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 335.188px; top: 99.7521px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.917912);">(2)</div><div style="left: 55.6863px; top: 128.65px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.976888);">where  we  dropped  the  dependency  on</div><div style="left: 256.41789215686276px; top: 128.508788359477px; font-size: 11.557918300653595px; font-family: sans-serif;">θ</div><div style="left: 266.545px; top: 128.65px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.970132);">for  convenience.</div><div style="left: 55.6863px; top: 142.038px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.08853);">At training  time,</div><div style="left: 143.6265032679739px; top: 141.89669685620905px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 148.122px; top: 141.897px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(1.23802);">S,I</div><div style="left: 166.3569444444445px; top: 141.89669685620905px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 174.979px; top: 142.038px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04005);">is a  training example  pair, and we</div><div style="left: 55.6863px; top: 155.426px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03304);">optimize the sum of the log probabilities as described in (2)</div><div style="left: 55.6863px; top: 168.814px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.99778);">over the whole training set using stochastic gradient descent</div><div style="left: 55.6863px; top: 182.201px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03406);">(further training details are given in Section 4).</div><div style="left: 72.2181px; top: 195.247px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.06008);">It is natural to model</div><div style="left: 178.0058169934641px; top: 195.10609228104548px; font-size: 11.557918300653595px; font-family: sans-serif;">p</div><div style="left: 183.8203921568628px; top: 195.10609228104548px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 188.31473856209155px; top: 195.10609228104548px; font-size: 11.557918300653595px; font-family: sans-serif;">S</div><div style="left: 195.40197712418308px; top: 199.2457022679736px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 199.4717156862746px; top: 194.45884885620887px; font-size: 11.557918300653595px; font-family: sans-serif;">|</div><div style="left: 202.683px; top: 195.106px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(1.30076);">I,S</div><div style="left: 220.89468954248375px; top: 199.2457022679736px; font-size: 8.090519607843138px; font-family: sans-serif;">0</div><div style="left: 226.079px; top: 195.106px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(1.42474);">,...,S</div><div style="left: 258.8506862745099px; top: 199.2457022679736px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 262.34267973856214px; top: 198.7926331699344px; font-size: 8.090519607843138px; font-family: sans-serif;">−</div><div style="left: 269.5656535947713px; top: 199.2457022679736px; font-size: 8.090519607843138px; font-family: sans-serif;">1</div><div style="left: 274.75143790849677px; top: 195.10609228104548px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 282.203px; top: 195.247px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01294);">with a Recur-</div><div style="left: 55.6863px; top: 208.635px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04411);">rent Neural Network (RNN), where the variable number of</div><div style="left: 55.6863px; top: 222.023px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05114);">words we condition upon up to</div><div style="left: 213.04292483660137px; top: 221.88190927450947px; font-size: 11.557918300653595px; font-family: sans-serif;">t</div><div style="left: 218.9630718954249px; top: 221.23466584967287px; font-size: 11.557918300653595px; font-family: sans-serif;">−</div><div style="left: 229.70008169934647px; top: 221.88190927450947px; font-size: 11.557918300653595px; font-family: sans-serif;">1</div><div style="left: 238.319px; top: 222.023px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.970942);">is expressed by a fixed</div><div style="left: 55.6863px; top: 235.411px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03607);">length hidden state or memory</div><div style="left: 211.0416993464053px; top: 235.2698177712414px; font-size: 11.557918300653595px; font-family: sans-serif;">h</div><div style="left: 217.7008496732027px; top: 239.40942775816964px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 221.771px; top: 235.411px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02659);">. This memory is updated</div><div style="left: 55.6863px; top: 248.799px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.06063);">after seeing a new input</div><div style="left: 181.58598039215693px; top: 248.65772626797346px; font-size: 11.557918300653595px; font-family: sans-serif;">x</div><div style="left: 188.1917647058824px; top: 252.79733625490158px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 196.189px; top: 248.799px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.06937);">by using a non-linear function</div><div style="left: 55.68627450980397px; top: 262.0456347647054px; font-size: 11.557918300653595px; font-family: sans-serif;">f</div><div style="left: 62.58905228758176px; top: 262.18664215686226px; font-size: 11.02124183006536px; font-family: sans-serif;">:</div><div style="left: 158.5144607843138px; top: 275.4335432614375px; font-size: 11.557918300653595px; font-family: sans-serif;">h</div><div style="left: 165.17477124183011px; top: 279.5731532483656px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 168.666px; top: 279.573px; font-size: 8.09052px; font-family: sans-serif; transform: scaleX(1.30033);">+1</div><div style="left: 184.15683006535951px; top: 275.4335432614375px; font-size: 11.557918300653595px; font-family: sans-serif;">=</div><div style="left: 196.3567647058824px; top: 275.4335432614375px; font-size: 11.557918300653595px; font-family: sans-serif;">f</div><div style="left: 203.25954248366017px; top: 275.4335432614375px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 207.75388888888892px; top: 275.4335432614375px; font-size: 11.557918300653595px; font-family: sans-serif;">h</div><div style="left: 214.4130392156863px; top: 279.5731532483656px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 218.483px; top: 275.434px; font-size: 11.5579px; font-family: sans-serif; transform: scaleX(1.30515);">,x</div><div style="left: 230.22562091503275px; top: 279.5731532483656px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 234.2941993464053px; top: 275.4335432614375px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 241.99978758169942px; top: 275.4335432614375px; font-size: 11.557918300653595px; font-family: sans-serif;">.</div><div style="left: 335.188px; top: 275.575px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.917912);">(3)</div><div style="left: 55.6863px; top: 295.178px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0302);">To make the above RNN more concrete two crucial design</div><div style="left: 55.6863px; top: 308.566px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.95512);">choices  are  to  be  made:  what  is  the  exact  form  of</div><div style="left: 317.5463398692811px; top: 308.42534064705836px; font-size: 11.557918300653595px; font-family: sans-serif;">f</div><div style="left: 329.381px; top: 308.566px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03661);">and</div><div style="left: 55.6863px; top: 321.954px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00178);">how  are  the  images  and  words  fed  as  inputs</div><div style="left: 299.80794117647065px; top: 321.8132491437904px; font-size: 11.557918300653595px; font-family: sans-serif;">x</div><div style="left: 306.41372549019616px; top: 325.9540192614375px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 310.483px; top: 321.954px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.959696);">.  For</div><div style="left: 341.1364379084968px; top: 321.8132491437904px; font-size: 11.557918300653595px; font-family: sans-serif;">f</div><div style="left: 55.6863px; top: 335.342px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02659);">we use a Long-Short Term Memory (LSTM) net, which has</div><div style="left: 55.6863px; top: 348.73px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.991015);">shown state-of-the art performance on sequence tasks such</div><div style="left: 55.6863px; top: 362.118px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02944);">as translation. This model is outlined in the next section.</div><div style="left: 72.2181px; top: 375.164px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.999339);">For the representation of images, we use a Convolutional</div><div style="left: 55.6863px; top: 388.552px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05541);">Neural Network (CNN). They have been widely used and</div><div style="left: 55.6863px; top: 401.939px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.971261);">studied  for  image  tasks,  and  are  currently  state-of-the  art</div><div style="left: 55.6863px; top: 415.327px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.981038);">for  object  recognition  and  detection.  Our  particular  choice</div><div style="left: 55.6863px; top: 428.715px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.984342);">of  CNN  uses  the  recent  approach  of  batch  normalization</div><div style="left: 55.6863px; top: 442.103px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.99778);">and  yields  the  current  best  performance  on  the  ILSVRC</div><div style="left: 55.6863px; top: 455.491px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01159);">2014 classification competition [24]. Furthermore, they have</div><div style="left: 55.6863px; top: 468.879px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.987667);">been  shown  to  generalize  to  other  tasks  such  as  scene</div><div style="left: 55.6863px; top: 482.267px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0222);">classification by means of transfer learning [35]. The words</div><div style="left: 55.6863px; top: 495.655px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02619);">are represented with an embedding model [36].</div><div style="left: 55.6863px; top: 521.577px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.07345);">3.1  LSTM-based Sentence Generator</div><div style="left: 55.6863px; top: 538.319px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.990409);">The choice of</div><div style="left: 124.32076797385629px; top: 538.177628228758px; font-size: 11.557918300653595px; font-family: sans-serif;">f</div><div style="left: 134.488px; top: 538.319px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.06243);">in (3) is governed by its ability to deal with</div><div style="left: 55.6863px; top: 551.707px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05162);">vanishing and exploding gradients [25], the most common</div><div style="left: 55.6863px; top: 565.094px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.04868);">challenge in designing and training RNNs. To address this</div><div style="left: 55.6863px; top: 578.482px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0294);">challenge, a particular form of recurrent nets, called LSTM,</div><div style="left: 55.6863px; top: 591.87px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0294);">was  introduced  [25]  and  applied  with  great  success  to</div><div style="left: 55.6863px; top: 605.258px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0132);">translation [4], [6] and sequence generation [37].</div><div style="left: 72.2181px; top: 618.304px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00118);">The core of the LSTM model is a memory cell</div><div style="left: 295.21614379084974px; top: 618.1628406470587px; font-size: 11.557918300653595px; font-family: sans-serif;">c</div><div style="left: 302.952px; top: 618.304px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02473);">encoding</div><div style="left: 55.6863px; top: 631.692px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.99778);">knowledge  at  every  time  step  of  what  inputs  have  been</div><div style="left: 55.6863px; top: 645.08px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.952278);">observed  up  to  this  step  (see  Figure  2)  .  The  behavior  of</div><div style="left: 55.6863px; top: 658.468px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05541);">the cell is controlled by “gates” – layers which are applied</div><div style="left: 55.6863px; top: 671.855px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.07088);">multiplicatively and thus can either keep a value from the</div><div style="left: 55.6863px; top: 685.243px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.995266);">gated layer if the gate is</div><div style="left: 172.58336601307195px; top: 685.1023831307187px; font-size: 11.557918300653595px; font-family: sans-serif;">1</div><div style="left: 180.799px; top: 685.243px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.991076);">or zero this value if the gate is</div><div style="left: 326.93875816993466px; top: 685.1023831307187px; font-size: 11.557918300653595px; font-family: sans-serif;">0</div><div style="left: 332.717px; top: 685.243px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0213);">. In</div><div style="left: 55.6863px; top: 698.631px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01022);">particular, three gates are being used which control whether</div><div style="left: 55.6863px; top: 712.019px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.95934);">to  forget  the  current  cell  value  (forget  gate</div><div style="left: 274.76883986928107px; top: 711.8782001241829px; font-size: 11.557918300653595px; font-family: sans-serif;">f</div><div style="left: 281.672px; top: 712.019px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.990596);">),  if  it  should</div><div style="left: 55.6863px; top: 725.407px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.06469);">read its input (input gate</div><div style="left: 182.49320261437907px; top: 725.2661086209149px; font-size: 11.557918300653595px; font-family: sans-serif;">i</div><div style="left: 186.476px; top: 725.407px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.05595);">) and whether to output the new</div><div style="left: 55.6863px; top: 738.795px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.992966);">cell  value  (output  gate</div><div style="left: 174.34908496732027px; top: 738.654017117647px; font-size: 11.557918300653595px; font-family: sans-serif;">o</div><div style="left: 179.951px; top: 738.795px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.971589);">).  The  definition  of  the  gates  and</div><div style="left: 55.6863px; top: 752.183px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03427);">cell update and output are as follows:</div><div style="left: 92.42761437908497px; top: 771.6458145032678px; font-size: 11.557918300653595px; font-family: sans-serif;">i</div><div style="left: 96.40918300653595px; top: 775.7854244901959px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 112.03614379084969px; top: 771.6458145032678px; font-size: 11.557918300653595px; font-family: sans-serif;">=</div><div style="left: 132.58437908496734px; top: 771.6458145032678px; font-size: 11.557918300653595px; font-family: sans-serif;">σ</div><div style="left: 139.60316993464053px; top: 771.6458145032678px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 144.0975163398693px; top: 771.6458145032678px; font-size: 11.557918300653595px; font-family: sans-serif;">W</div><div style="left: 155.013px; top: 775.785px; font-size: 8.09052px; font-family: sans-serif; transform: scaleX(1.41854);">ix</div><div style="left: 164.10281045751634px; top: 771.6458145032678px; font-size: 11.557918300653595px; font-family: sans-serif;">x</div><div style="left: 170.70859477124182px; top: 775.7854244901959px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 177.3457026143791px; top: 771.6458145032678px; font-size: 11.557918300653595px; font-family: sans-serif;">+</div><div style="left: 188.90408496732027px; top: 771.6458145032678px; font-size: 11.557918300653595px; font-family: sans-serif;">W</div><div style="left: 199.82px; top: 775.785px; font-size: 8.09052px; font-family: sans-serif; transform: scaleX(1.27462);">im</div><div style="left: 211.87003267973856px; top: 771.6458145032678px; font-size: 11.557918300653595px; font-family: sans-serif;">m</div><div style="left: 222.01769607843138px; top: 775.7854244901959px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 225.50968954248367px; top: 775.3323553921566px; font-size: 8.090519607843138px; font-family: sans-serif;">−</div><div style="left: 232.7326633986928px; top: 775.7854244901959px; font-size: 8.090519607843138px; font-family: sans-serif;">1</div><div style="left: 237.9184477124183px; top: 771.6458145032678px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 335.188px; top: 771.787px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.917912);">(4)</div><div style="left: 90.75006535947712px; top: 788.3807001241828px; font-size: 11.557918300653595px; font-family: sans-serif;">f</div><div style="left: 96.40918300653594px; top: 792.5203101111109px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 112.03614379084966px; top: 788.3807001241828px; font-size: 11.557918300653595px; font-family: sans-serif;">=</div><div style="left: 132.5843790849673px; top: 788.3807001241828px; font-size: 11.557918300653595px; font-family: sans-serif;">σ</div><div style="left: 139.60316993464053px; top: 788.3807001241828px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 144.0975163398693px; top: 788.3807001241828px; font-size: 11.557918300653595px; font-family: sans-serif;">W</div><div style="left: 155.013px; top: 792.52px; font-size: 8.09052px; font-family: sans-serif; transform: scaleX(1.77573);">fx</div><div style="left: 166.24673202614377px; top: 788.3807001241828px; font-size: 11.557918300653595px; font-family: sans-serif;">x</div><div style="left: 172.85251633986925px; top: 792.5203101111109px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 179.48962418300653px; top: 788.3807001241828px; font-size: 11.557918300653595px; font-family: sans-serif;">+</div><div style="left: 191.04800653594768px; top: 788.3807001241828px; font-size: 11.557918300653595px; font-family: sans-serif;">W</div><div style="left: 201.964px; top: 792.52px; font-size: 8.09052px; font-family: sans-serif; transform: scaleX(1.51275);">fm</div><div style="left: 216.15671568627448px; top: 788.3807001241828px; font-size: 11.557918300653595px; font-family: sans-serif;">m</div><div style="left: 226.30553921568625px; top: 792.5203101111109px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 229.79637254901957px; top: 792.0672410130717px; font-size: 8.090519607843138px; font-family: sans-serif;">−</div><div style="left: 237.02050653594767px; top: 792.5203101111109px; font-size: 8.090519607843138px; font-family: sans-serif;">1</div><div style="left: 242.2051307189542px; top: 788.3807001241828px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 335.188px; top: 788.522px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.917912);">(5)</div><div style="left: 90.80691176470582px; top: 805.1155857450979px; font-size: 11.557918300653595px; font-family: sans-serif;">o</div><div style="left: 96.40918300653588px; top: 809.255195732026px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 112.03614379084961px; top: 805.1155857450979px; font-size: 11.557918300653595px; font-family: sans-serif;">=</div><div style="left: 132.58437908496725px; top: 805.1155857450979px; font-size: 11.557918300653595px; font-family: sans-serif;">σ</div><div style="left: 139.60316993464045px; top: 805.1155857450979px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 144.0975163398692px; top: 805.1155857450979px; font-size: 11.557918300653595px; font-family: sans-serif;">W</div><div style="left: 155.013px; top: 809.255px; font-size: 8.09052px; font-family: sans-serif; transform: scaleX(1.22541);">ox</div><div style="left: 165.39519607843133px; top: 805.1155857450979px; font-size: 11.557918300653595px; font-family: sans-serif;">x</div><div style="left: 172.0009803921568px; top: 809.255195732026px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 178.63808823529405px; top: 805.1155857450979px; font-size: 11.557918300653595px; font-family: sans-serif;">+</div><div style="left: 190.19647058823523px; top: 805.1155857450979px; font-size: 11.557918300653595px; font-family: sans-serif;">W</div><div style="left: 201.112px; top: 809.255px; font-size: 8.09052px; font-family: sans-serif; transform: scaleX(1.16033);">om</div><div style="left: 214.4536437908496px; top: 805.1155857450979px; font-size: 11.557918300653595px; font-family: sans-serif;">m</div><div style="left: 224.60246732026135px; top: 809.255195732026px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 228.09330065359467px; top: 808.8021266339867px; font-size: 8.090519607843138px; font-family: sans-serif;">−</div><div style="left: 235.31743464052278px; top: 809.255195732026px; font-size: 8.090519607843138px; font-family: sans-serif;">1</div><div style="left: 240.50205882352932px; top: 805.1155857450979px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 335.188px; top: 805.257px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.917912);">(6)</div><div style="left: 91.40669934640509px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">c</div><div style="left: 96.40918300653581px; top: 825.990081352941px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 112.03614379084954px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">=</div><div style="left: 132.5843790849672px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">f</div><div style="left: 138.24233660130704px; top: 825.990081352941px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 156.43782679738547px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">c</div><div style="left: 161.4403104575162px; top: 825.990081352941px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 164.93114379084952px; top: 825.5370122549018px; font-size: 8.090519607843138px; font-family: sans-serif;">−</div><div style="left: 172.15527777777763px; top: 825.990081352941px; font-size: 8.090519607843138px; font-family: sans-serif;">1</div><div style="left: 179.90843137254888px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">+</div><div style="left: 191.46681372549003px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">i</div><div style="left: 195.448382352941px; top: 825.990081352941px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 213.64387254901942px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">h</div><div style="left: 220.30302287581682px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 224.79852941176455px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">W</div><div style="left: 235.714px; top: 825.99px; font-size: 8.09052px; font-family: sans-serif; transform: scaleX(1.17141);">cx</div><div style="left: 245.66348039215669px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">x</div><div style="left: 252.26926470588216px; top: 825.990081352941px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 258.9075326797384px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">+</div><div style="left: 270.4647549019606px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">W</div><div style="left: 281.38px; top: 825.99px; font-size: 8.09052px; font-family: sans-serif; transform: scaleX(1.12105);">cm</div><div style="left: 294.29035947712396px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">m</div><div style="left: 304.4391830065357px; top: 825.990081352941px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 307.93001633986904px; top: 825.5370122549018px; font-size: 8.090519607843138px; font-family: sans-serif;">−</div><div style="left: 315.15415032679715px; top: 825.990081352941px; font-size: 8.090519607843138px; font-family: sans-serif;">1</div><div style="left: 320.33877450980367px; top: 821.8504713660129px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 335.188px; top: 821.991px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.917912);">(7)</div><div style="left: 86.26035947712394px; top: 838.5853569869279px; font-size: 11.557918300653595px; font-family: sans-serif;">m</div><div style="left: 96.40918300653571px; top: 842.724966973856px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 112.03614379084944px; top: 838.5853569869279px; font-size: 11.557918300653595px; font-family: sans-serif;">=</div><div style="left: 132.58437908496708px; top: 838.5853569869279px; font-size: 11.557918300653595px; font-family: sans-serif;">o</div><div style="left: 138.18665032679715px; top: 842.724966973856px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 156.3821405228756px; top: 838.5853569869279px; font-size: 11.557918300653595px; font-family: sans-serif;">c</div><div style="left: 161.38346405228737px; top: 842.724966973856px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 335.188px; top: 838.726px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.917912);">(8)</div><div style="left: 78.89120915032655px; top: 855.3202426078429px; font-size: 11.557918300653595px; font-family: sans-serif;">p</div><div style="left: 84.7069444444442px; top: 859.4598525947711px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 88.1978px; top: 859.46px; font-size: 8.09052px; font-family: sans-serif; transform: scaleX(1.30033);">+1</div><div style="left: 112.03614379084944px; top: 855.3202426078429px; font-size: 11.557918300653595px; font-family: sans-serif;">=</div><div style="left: 132.584px; top: 855.461px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.999902);">Softmax</div><div style="left: 172.5798856209148px; top: 855.3202426078429px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 177.07423202614356px; top: 855.3202426078429px; font-size: 11.557918300653595px; font-family: sans-serif;">m</div><div style="left: 187.22189542483636px; top: 859.4598525947711px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 191.29163398692785px; top: 855.3202426078429px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 335.188px; top: 855.461px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.917912);">(9)</div><div style="left: 492.5815438473856px; top: 275.48910484654823px; font-size: 11.397170588235296px; font-family: sans-serif;">h</div><div style="left: 444.06936060333334px; top: 238.69238588086384px; font-size: 11.397170588235296px; font-family: monospace;">σ</div><div style="left: 442.8030083157516px; top: 169.6761862076613px; font-size: 11.397170588235296px; font-family: monospace;">σ</div><div style="left: 569.4382370739215px; top: 204.5008741161581px; font-size: 11.397170588235296px; font-family: monospace;">σ</div><div style="left: 489.1726501244445px; top: 198.07759893871722px; font-size: 22.794341176470592px; font-family: sans-serif;">c</div><div style="left: 492.404px; top: 324.048px; font-size: 11.3972px; font-family: sans-serif; transform: scaleX(0.974632);">input</div><div style="left: 536.558px; top: 135.241px; font-size: 11.3972px; font-family: sans-serif; transform: scaleX(0.886459);">LSTM</div><div style="left: 516.535px; top: 148.537px; font-size: 11.3972px; font-family: sans-serif; transform: scaleX(0.964993);">memory block</div><div style="left: 457.473px; top: 50.395px; font-size: 11.3972px; font-family: sans-serif; transform: scaleX(0.974655);">word prediction</div><div style="left: 476.954px; top: 87.7524px; font-size: 11.3972px; font-family: sans-serif; transform: scaleX(0.940091);">softmax</div><div style="left: 437.549px; top: 257.869px; font-size: 8.86447px; font-family: sans-serif; transform: scaleX(0.957533);">input</div><div style="left: 437.06px; top: 268px; font-size: 8.86447px; font-family: sans-serif; transform: scaleX(0.912576);">gate i</div><div style="left: 434.306px; top: 188.853px; font-size: 8.86447px; font-family: sans-serif; transform: scaleX(1.00377);">output</div><div style="left: 436.63px; top: 198.984px; font-size: 8.86447px; font-family: sans-serif; transform: scaleX(0.925662);">gate f</div><div style="left: 562.254px; top: 174.29px; font-size: 8.86447px; font-family: sans-serif; transform: scaleX(0.974411);">forget</div><div style="left: 563.289px; top: 184.421px; font-size: 8.86447px; font-family: sans-serif; transform: scaleX(0.925662);">gate f</div><div style="left: 511.287px; top: 271.799px; font-size: 8.86447px; font-family: sans-serif; transform: scaleX(0.890523);">updating</div><div style="left: 517.654px; top: 281.93px; font-size: 8.86447px; font-family: sans-serif; transform: scaleX(1.03193);">term</div><div style="left: 511.9388782801308px; top: 181.14585942171163px; font-size: 11.397170588235296px; font-family: sans-serif;">c</div><div style="left: 516.931px; top: 185.509px; font-size: 7.59811px; font-family: sans-serif; transform: scaleX(0.976245);">t-1</div><div style="left: 515.9707540109476px; top: 230.21701056550228px; font-size: 11.397170588235296px; font-family: sans-serif;">c</div><div style="left: 520.9625817616046px; top: 234.57998834837088px; font-size: 7.5981137254901965px; font-family: sans-serif;">t</div><div style="left: 478.0203287510131px; top: 144.1050550099469px; font-size: 11.397170588235296px; font-family: sans-serif;">m</div><div style="left: 486.8075029522124px; top: 148.4680327928154px; font-size: 7.5981137254901965px; font-family: sans-serif;">t</div><div style="left: 489.38476413261435px; top: 302.71567902955474px; font-size: 11.397170588235296px; font-family: sans-serif;">x</div><div style="left: 361.961px; top: 361.622px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.975443);">Fig. 2. LSTM: the memory block contains a cell</div><div style="left: 558.8164052287582px; top: 361.81315837581695px; font-size: 9.246357843137256px; font-family: sans-serif;">c</div><div style="left: 565.814px; top: 361.622px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.983378);">which is controlled by</div><div style="left: 361.961px; top: 372.063px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.991858);">three gates. In blue we show the recurrent connections – the output</div><div style="left: 645.6231862745097px; top: 372.25433484640524px; font-size: 9.246357843137256px; font-family: sans-serif;">m</div><div style="left: 361.961px; top: 382.504px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.959148);">at time</div><div style="left: 392.32720588235287px; top: 382.6955113169934px; font-size: 9.246357843137256px; font-family: sans-serif;">t</div><div style="left: 397.9422385620914px; top: 382.17771527777774px; font-size: 9.246357843137256px; font-family: monospace;">−</div><div style="left: 407.6513725490195px; top: 382.6955113169934px; font-size: 9.246357843137256px; font-family: monospace;">1</div><div style="left: 415.111px; top: 382.504px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.959673);">is fed back to the memory at time</div><div style="left: 553.9345751633986px; top: 382.6955113169934px; font-size: 9.246357843137256px; font-family: sans-serif;">t</div><div style="left: 560.03px; top: 382.504px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.972022);">via the three gates; the</div><div style="left: 361.961px; top: 392.946px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.960522);">cell value is fed back via the forget gate; the predicted word at time</div><div style="left: 635.21681372549px; top: 393.1366877875817px; font-size: 9.246357843137256px; font-family: sans-serif;">t</div><div style="left: 640.2622222222221px; top: 392.618891748366px; font-size: 9.246357843137256px; font-family: monospace;">−</div><div style="left: 649.4017320261438px; top: 393.1366877875817px; font-size: 9.246357843137256px; font-family: monospace;">1</div><div style="left: 361.961px; top: 403.387px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.961748);">is fed back in addition to the memory output</div><div style="left: 541.2021405228759px; top: 403.57786425816994px; font-size: 9.246357843137256px; font-family: sans-serif;">m</div><div style="left: 552.176px; top: 403.387px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.950187);">at time</div><div style="left: 582.0132189542484px; top: 403.57786425816994px; font-size: 9.246357843137256px; font-family: sans-serif;">t</div><div style="left: 587.844px; top: 403.387px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.963346);">into the Softmax</div><div style="left: 361.961px; top: 413.828px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.981819);">for word prediction.</div><div style="left: 485.994px; top: 537.447px; font-size: 10.9153px; font-family: sans-serif; transform: rotate(-90deg) scaleX(0.878313);">LSTM</div><div style="left: 521.946px; top: 536.308px; font-size: 10.9153px; font-family: sans-serif; transform: rotate(-90deg) scaleX(0.878313);">LSTM</div><div style="left: 593.805px; top: 536.308px; font-size: 10.9153px; font-family: sans-serif; transform: rotate(-90deg) scaleX(0.878313);">LSTM</div><div style="left: 519.513827616389px; top: 567.000547440002px; font-size: 8.186508823529412px; font-family: sans-serif;">W</div><div style="left: 528.0441061376602px; top: 570.1344442119944px; font-size: 5.457672549019608px; font-family: sans-serif;">e</div><div style="left: 530.6583540289429px; top: 567.000547440002px; font-size: 8.186508823529412px; font-family: sans-serif;">S</div><div style="left: 534.4078387429657px; top: 570.1344442119944px; font-size: 5.457672549019608px; font-family: sans-serif;">1</div><div style="left: 588.3605021174836px; top: 567.4553534857536px; font-size: 8.186508823529412px; font-family: sans-serif;">W</div><div style="left: 596.8907806387549px; top: 570.589250257746px; font-size: 5.457672549019608px; font-family: sans-serif;">e</div><div style="left: 599.5050285300376px; top: 567.4553534857536px; font-size: 8.186508823529412px; font-family: sans-serif;">S</div><div style="left: 603.255px; top: 570.589px; font-size: 5.45767px; font-family: sans-serif; transform: scaleX(0.972315);">N-1</div><div style="left: 487.8475018748856px; top: 468.7588883854167px; font-size: 10.915345098039216px; font-family: sans-serif;">p</div><div style="left: 493.30517442390527px; top: 472.93741893075986px; font-size: 7.276896732026144px; font-family: sans-serif;">1</div><div style="left: 595.1817286722713px; top: 468.7588883854167px; font-size: 10.915345098039216px; font-family: sans-serif;">p</div><div style="left: 600.6394012212909px; top: 472.93741893075986px; font-size: 7.276896732026144px; font-family: sans-serif;">N</div><div style="left: 523.8891072571242px; top: 468.7588883854167px; font-size: 10.915345098039216px; font-family: sans-serif;">p</div><div style="left: 529.3467798061439px; top: 472.93741893075986px; font-size: 7.276896732026144px; font-family: sans-serif;">2</div><div style="left: 480.447px; top: 443.826px; font-size: 6.36728px; font-family: sans-serif; transform: scaleX(0.839208);">log p</div><div style="left: 493.02593715599517px; top: 446.263754324536px; font-size: 4.244856730219282px; font-family: sans-serif;">1</div><div style="left: 495.148px; top: 443.826px; font-size: 6.36728px; font-family: sans-serif; transform: scaleX(0.829233);">(S</div><div style="left: 500.1227989148105px; top: 446.263754324536px; font-size: 4.244856730219282px; font-family: sans-serif;">1</div><div style="left: 502.245px; top: 443.826px; font-size: 6.36728px; font-family: sans-serif; transform: scaleX(0.957321);">) </div><div style="left: 516.532px; top: 443.826px; font-size: 6.36728px; font-family: sans-serif; transform: scaleX(0.839208);">log p</div><div style="left: 529.1111129574167px; top: 446.263754324536px; font-size: 4.244856730219282px; font-family: sans-serif;">2</div><div style="left: 531.234px; top: 443.826px; font-size: 6.36728px; font-family: sans-serif; transform: scaleX(0.829233);">(S</div><div style="left: 536.2079747162321px; top: 446.263754324536px; font-size: 4.244856730219282px; font-family: sans-serif;">2</div><div style="left: 538.33px; top: 443.826px; font-size: 6.36728px; font-family: sans-serif; transform: scaleX(0.957321);">) </div><div style="left: 587.2px; top: 443.826px; font-size: 6.36728px; font-family: sans-serif; transform: scaleX(0.839208);">log p</div><div style="left: 599.7786944238873px; top: 446.263754324536px; font-size: 4.244856730219282px; font-family: sans-serif;">N</div><div style="left: 603.093px; top: 443.826px; font-size: 6.36728px; font-family: sans-serif; transform: scaleX(0.829233);">(S</div><div style="left: 608.0673481372321px; top: 446.263754324536px; font-size: 4.244856730219282px; font-family: sans-serif;">N</div><div style="left: 611.382px; top: 443.826px; font-size: 6.36728px; font-family: sans-serif; transform: scaleX(0.957321);">) </div><div style="left: 554.949px; top: 501.334px; font-size: 25.4691px; font-family: sans-serif; transform: scaleX(0.78925);">...</div><div style="left: 448.7px; top: 537.447px; font-size: 10.9153px; font-family: sans-serif; transform: rotate(-90deg) scaleX(0.878313);">LSTM</div><div style="left: 483.5841500020099px; top: 567.000547440002px; font-size: 8.186508823529412px; font-family: sans-serif;">W</div><div style="left: 492.1144285232811px; top: 570.1344442119944px; font-size: 5.457672549019608px; font-family: sans-serif;">e</div><div style="left: 494.7286764145638px; top: 567.000547440002px; font-size: 8.186508823529412px; font-family: sans-serif;">S</div><div style="left: 498.4781611285867px; top: 570.1344442119944px; font-size: 5.457672549019608px; font-family: sans-serif;">0</div><div style="left: 524.0063562557191px; top: 596.1045811958742px; font-size: 10.915345098039216px; font-family: sans-serif;">S</div><div style="left: 529.0056707237696px; top: 600.2831117412173px; font-size: 7.276896732026144px; font-family: sans-serif;">1</div><div style="left: 591.9607922562583px; top: 596.5593872416258px; font-size: 10.915345098039216px; font-family: sans-serif;">S</div><div style="left: 596.96px; top: 600.738px; font-size: 7.2769px; font-family: sans-serif; transform: scaleX(1.06071);">N-1</div><div style="left: 488.07667864134px; top: 596.1045811958742px; font-size: 10.915345098039216px; font-family: sans-serif;">S</div><div style="left: 493.0759931093906px; top: 600.2831117412173px; font-size: 7.276896732026144px; font-family: sans-serif;">0</div><div style="left: 401.017px; top: 596.559px; font-size: 10.9153px; font-family: sans-serif; transform: scaleX(0.874165);">image</div><div style="left: 361.961px; top: 637.701px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.977769);">Fig. 3. LSTM model combined with a CNN image embedder (as defined</div><div style="left: 361.961px; top: 648.142px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(1.01865);">in [24]) and word embeddings. The unrolled connections between the</div><div style="left: 361.961px; top: 658.583px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.97451);">LSTM  memories  are  in  blue  and  they  correspond  to  the  recurrent</div><div style="left: 361.961px; top: 669.024px; font-size: 9.28105px; font-family: sans-serif; transform: scaleX(0.980523);">connections in Figure 2. All LSTMs share the same parameters.</div><div style="left: 361.961px; top: 704.41px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01065);">where</div><div style="left: 408.664px; top: 704.41px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03651);">represents the product with a gate value, and the</div><div style="left: 361.961px; top: 717.798px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01763);">various</div><div style="left: 401.02702614379086px; top: 717.6568112352941px; font-size: 11.557918300653595px; font-family: sans-serif;">W</div><div style="left: 415.98px; top: 717.798px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0014);">matrices are trained parameters. Such multiplica-</div><div style="left: 361.961px; top: 731.186px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(0.971261);">tive  gates  make  it  possible  to  train  the  LSTM  robustly  as</div><div style="left: 361.961px; top: 744.574px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.07088);">these gates deal well with exploding and vanishing gradi-</div><div style="left: 361.961px; top: 757.962px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01177);">ents [25]. The nonlinearities are sigmoid</div><div style="left: 558.8894934640524px; top: 757.8205367254901px; font-size: 11.557918300653595px; font-family: sans-serif;">σ</div><div style="left: 565.9094444444445px; top: 757.8205367254901px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 570.4037908496733px; top: 757.1732933006535px; font-size: 11.557918300653595px; font-family: sans-serif;">·</div><div style="left: 573.6138725490197px; top: 757.8205367254901px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 580.773px; top: 757.962px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03584);">and hyperbolic</div><div style="left: 361.961px; top: 771.349px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02589);">tangent</div><div style="left: 402.0038562091504px; top: 771.2084452222222px; font-size: 11.557918300653595px; font-family: sans-serif;">h</div><div style="left: 408.6630065359478px; top: 771.2084452222222px; font-size: 11.557918300653595px; font-family: sans-serif;">(</div><div style="left: 413.15735294117655px; top: 770.5612017973856px; font-size: 11.557918300653595px; font-family: sans-serif;">·</div><div style="left: 416.3685947712419px; top: 771.2084452222222px; font-size: 11.557918300653595px; font-family: sans-serif;">)</div><div style="left: 420.863px; top: 771.349px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.01532);">. The last equation</div><div style="left: 514.3346732026145px; top: 771.2084452222222px; font-size: 11.557918300653595px; font-family: sans-serif;">m</div><div style="left: 524.4823366013073px; top: 775.3492153398693px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 531.662px; top: 771.349px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.02213);">is what is used to feed to</div><div style="left: 361.961px; top: 784.737px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.07719);">a Softmax, which will produce a probability distribution</div><div style="left: 644.4294117647061px; top: 784.5963537189542px; font-size: 11.557918300653595px; font-family: sans-serif;">p</div><div style="left: 650.2439869281047px; top: 788.7371238366012px; font-size: 8.090519607843138px; font-family: sans-serif;">t</div><div style="left: 361.961px; top: 798.125px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.03522);">over all words.</div><div style="left: 361.961px; top: 825.52px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.07752);">3.1.1  Training</div><div style="left: 361.961px; top: 842.073px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.0012);">The  LSTM  model  is  trained  to  predict  each  word  of  the</div><div style="left: 361.961px; top: 855.461px; font-size: 11.0212px; font-family: sans-serif; transform: scaleX(1.00464);">sentence after it has seen the image as well as all preceding</div><div class="endOfContent"></div></div></div><div id="pageContainer4" class="page" data-page-number="4" style="width: 710px; height: 918px;"><div class="loadingIcon"></div></div><div id="pageContainer5" class="page" data-page-number="5" style="width: 710px; height: 918px;"><div class="loadingIcon"></div></div><div id="pageContainer6" class="page" data-page-number="6" style="width: 710px; height: 918px;"><div class="loadingIcon"></div></div><div id="pageContainer7" class="page" data-page-number="7" style="width: 710px; height: 918px;"><div class="loadingIcon"></div></div><div id="pageContainer8" class="page" data-page-number="8" style="width: 710px; height: 918px;"><div class="loadingIcon"></div></div><div id="pageContainer9" class="page" data-page-number="9" style="width: 710px; height: 918px;"><div class="loadingIcon"></div></div><div id="pageContainer10" class="page" data-page-number="10" style="width: 710px; height: 918px;"><div class="loadingIcon"></div></div><div id="pageContainer11" class="page" data-page-number="11" style="width: 710px; height: 918px;"><div class="loadingIcon"></div></div><div id="pageContainer12" class="page" data-page-number="12" style="width: 710px; height: 918px;"><div class="loadingIcon"></div></div></div>
        </div>

        <div id="errorWrapper" hidden="true">
          <div id="errorMessageLeft">
            <span id="errorMessage"></span>
            <button id="errorShowMore" data-l10n-id="error_more_info">More Information</button>
            <button id="errorShowLess" data-l10n-id="error_less_info" hidden="true">Less Information</button>
          </div>
          <div id="errorMessageRight">
            <button id="errorClose" data-l10n-id="error_close">Close</button>
          </div>
          <div class="clearBoth"></div>
          <textarea id="errorMoreInfo" hidden="true" readonly="readonly"></textarea>
        </div>
      </div> <!-- mainContainer -->

      <div id="overlayContainer" class="hidden">
        <div id="passwordOverlay" class="container hidden">
          <div class="dialog">
            <div class="row">
              <p id="passwordText" data-l10n-id="password_label">Enter the password to open this PDF file.</p>
            </div>
            <div class="row">
              <!-- The type="password" attribute is set via script, to prevent warnings in Firefox for all http:// documents. -->
              <input id="password" class="toolbarField">
            </div>
            <div class="buttonRow">
              <button id="passwordCancel" class="overlayButton"><span data-l10n-id="password_cancel">Cancel</span></button>
              <button id="passwordSubmit" class="overlayButton"><span data-l10n-id="password_ok">OK</span></button>
            </div>
          </div>
        </div>
        <div id="documentPropertiesOverlay" class="container hidden">
          <div class="dialog">
            <div class="row">
              <span data-l10n-id="document_properties_file_name">File name:</span> <p id="fileNameField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_file_size">File size:</span> <p id="fileSizeField">-</p>
            </div>
            <div class="separator"></div>
            <div class="row">
              <span data-l10n-id="document_properties_title">Title:</span> <p id="titleField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_author">Author:</span> <p id="authorField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_subject">Subject:</span> <p id="subjectField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_keywords">Keywords:</span> <p id="keywordsField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_creation_date">Creation Date:</span> <p id="creationDateField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_modification_date">Modification Date:</span> <p id="modificationDateField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_creator">Creator:</span> <p id="creatorField">-</p>
            </div>
            <div class="separator"></div>
            <div class="row">
              <span data-l10n-id="document_properties_producer">PDF Producer:</span> <p id="producerField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_version">PDF Version:</span> <p id="versionField">-</p>
            </div>
            <div class="row">
              <span data-l10n-id="document_properties_page_count">Page Count:</span> <p id="pageCountField">-</p>
            </div>
            <div class="buttonRow">
              <button id="documentPropertiesClose" class="overlayButton"><span data-l10n-id="document_properties_close">Close</span></button>
            </div>
          </div>
        </div>
        <div id="printServiceOverlay" class="container hidden">
          <div class="dialog">
            <div class="row">
              <span data-l10n-id="print_progress_message">Preparing document for printing…</span>
            </div>
            <div class="row">
              <progress value="0" max="100"></progress>
              <span data-l10n-id="print_progress_percent" data-l10n-args="{ &quot;progress&quot;: 0 }" class="relative-progress">0%</span>
            </div>
            <div class="buttonRow">
              <button id="printCancel" class="overlayButton"><span data-l10n-id="print_progress_close">Cancel</span></button>
            </div>
          </div>
        </div>
<div id="chromeFileAccessOverlay" class="container hidden">
  <div class="dialog">
    <div class="row">
      <!-- The extension icon (PDF.js logo) will be shown at the left, to help
           users with recognizing which checkbox they have to click when they
           visit chrome://extensions.
      -->
      <p id="chrome-pdfjs-logo-bg" style="
          display: block;
          padding-left: 60px;
          min-height: 48px;
          background-size: 48px;
          background-repeat: no-repeat;
          font-size: 14px;
          line-height: 1.8em;
          word-break: break-all;">
        Click on
        "<span id="chrome-file-access-label">Allow access to file URLs</span>"
        at
        <a id="chrome-link-to-extensions-page">chrome://extensions</a>
        <br>
        to view <span id="chrome-url-of-local-file">this PDF file.</span>
      </p>
    </div>
  </div>
</div>

      </div>  <!-- overlayContainer -->

    </div> <!-- outerContainer -->
    <div id="printContainer"></div>
  


</body></html>